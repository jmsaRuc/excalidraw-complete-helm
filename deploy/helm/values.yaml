# Default values for excalidraw-complete.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

replicaCount: 1
revisionHistoryLimit: 10

image:
  repository: ghcr.io/jmsaruc/excalidraw-complete
  tag: "latest"
  imagePullPolicy: IfNotPresent

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

# For the vite frontend URL, make sure to include the correct protocol (http or https)
viteFrontendUrl: "https://excalidraw.helloworld2.net"

# Application log level. One of: "debug", "info", "warning", "error", "fatal", "panic"
logLevel: "warning"

readinessProbe:
  httpGet:
    path: /healthz
    port: http

service:
  type: ClusterIP
  port: 80
  # Annotations applied for services such as externalDNS or
  # service type LoadBalancer
  # type: LoadBalancer
  # httpsPort: 443
  # annotations: {}
  # loadBalancerIP: 172.16.0.1

ingress:
  enabled: true
  className: traefik
  annotations: 
    cert-manager.io/cluster-issuer: letsencrypt-prod
    # kubernetes.io/ingress.class: nginx
    # kubernetes.io/tls-acme: "true"
  hosts:
    - host: excalidraw.helloworld2.net
      paths:
        - path: "/"
          pathType: Prefix

  tls:
  - secretName: excalidraw-complete-tls-secret 
    hosts:
      - excalidraw.helloworld2.net



# Resource requests and limits
resources:      
  requests:
    memory: "50Mi"
    cpu: "50m"
  limits:
    memory: "100Mi"
    cpu: "100m"


volumeMounts: []

volumes: []

readinessProbe:
  httpGet:
    path: /
    port: excalidraw-port
  initialDelaySeconds: 5
  periodSeconds: 10

  
## Configuration values for the postgresql dependency.
## ref: https://github.com/kubernetes/charts/blob/master/stable/postgresql/README.md
##
postgresql:
  ## Use the PostgreSQL chart dependency.
  ## Set to false if bringing your own PostgreSQL
  enabled: false
  ## ssl enforce SSL communication with PostgresSQL
  ## Default to false
  ##
  # ssl: false
  ## ca Certificate of Authority
  ## Default to empty, point to location of CA
  ##
  # ca: "path to ca"
  ## postgresqlHost override postgres database host
  ## Default to postgres
  ##
  postgresqlHost: cnpg-cluster-db-rw.cnpg-cluster.svc
  ## postgresqlPort port for postgres
  ## Default to 5432
  ##
  postgresqlPort: 5432
  ## PostgreSQL fullname Override
  ##
  fullnameOverride: ""
  ## PostgreSQL User to create.
  ##
  postgresqlUser: admin
  ## PostgreSQL Database to create.
  ##
  postgresqlDatabase: excalidraw
  ## Persistent Volume Storage configuration.
  ## ref: https://kubernetes.io/docs/user-guide/persistent-volumes
  ##
  existingSecret: excalidraw-complete-secret

  existingSecretKey: postgresql-password

  replication:
    ## Enable PostgreSQL replication (primary/secondary)
    ##
    enabled: false
  persistence:
    ## Enable PostgreSQL persistence using Persistent Volume Claims.
    ##
    enabled: false
    ## concourse data Persistent Volume Storage Class
    ## If defined, storageClassName: <storageClass>
    ## If set to "-", storageClassName: "", which disables dynamic provisioning
    ## If undefined (the default) or set to null, no storageClassName spec is
    ##   set, choosing the default provisioner.  (gp2 on AWS, standard on
    ##   GKE, AWS & OpenStack)
    ##
    # storageClass: "-"
    ## Persistent Volume Access Mode.
    ##
    accessMode: ReadWriteOnce
    ## Persistent Volume Storage Size.
    ##
    size: 8Gi